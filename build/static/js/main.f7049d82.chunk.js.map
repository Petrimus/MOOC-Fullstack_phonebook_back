{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","name","number","handleRemoveButtonClick","react_default","a","createElement","type","onClick","style","borderRadius","Persons","persons","personFilter","usePersonFilter","filter","person","toLowerCase","startsWith","Table","striped","map","components_Person","key","id","Filter","handleChange","value","onChange","marginLeft","PersonForm","props","handleNameChange","handleNumberChange","nameValue","numberValue","addName","Form","onSubmit","Group","Label","Control","placeholder","required","Button","margin","baseUrl","services_persons","axios","get","then","response","data","newObj","post","put","concat","delete","Notification","message","chooseClassname","error","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setPersonFilter","_useState9","_useState10","notificationMessage","setNotificationMessage","useEffect","personservices","handleNotificationMessage","isError","setTimeout","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","find","window","confirm","personObj","returnedPerson","catch","components_Persons","console","log","ReactDOM","render","src_App","document","getElementById"],"mappings":"6MAwBeA,EAtBA,SAAAC,GAA+C,IAA5CC,EAA4CD,EAA5CC,KAAMC,EAAsCF,EAAtCE,OAAQC,EAA8BH,EAA9BG,wBAK9B,OACEC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAKL,GACLG,EAAAC,EAAAC,cAAA,UAAKJ,GACLE,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACAC,KAAK,OACJC,QAASL,EACTM,MAZa,CAClBC,aAAc,IAQV,qBCkBOC,EA1BC,SAAAX,GAAwD,IAArDY,EAAqDZ,EAArDY,QAASC,EAA4Cb,EAA5Ca,aAAcV,EAA8BH,EAA9BG,wBAElCW,EACJD,EACED,EAAQG,OAAO,SAAAC,GAAM,OACnBA,EAAOf,KAAKgB,cAAcC,WAAWL,EAAaI,iBACpDL,EAWJ,OACER,EAAAC,EAAAC,cAACa,EAAA,EAAD,CAAOC,SAAO,GACZhB,EAAAC,EAAAC,cAAA,aAVsBQ,EAAgBO,IACxC,SAAAL,GAAM,OAAIZ,EAAAC,EAAAC,cAACgB,EAAD,CACRC,IAAKP,EAAOf,KACZA,KAAMe,EAAOf,KACbC,OAAQc,EAAOd,OACfC,wBAAyBA,EAAwBa,EAAOQ,WCH/CC,EAbA,SAAAzB,GAA6B,IAA1B0B,EAA0B1B,EAA1B0B,aAAcC,EAAY3B,EAAZ2B,MAE5B,OACJvB,EAAAC,EAAAC,cAAA,yCAEMF,EAAAC,EAAAC,cAAA,SAAOsB,SAAUF,EACjBC,MAAOA,EACPlB,MAAO,CAAEoB,WAAY,wBCiCZC,EAvCI,SAACC,GAAU,IAE1BC,EAKED,EALFC,iBACAC,EAIEF,EAJFE,mBACAC,EAGEH,EAHFG,UACAC,EAEEJ,EAFFI,YACAC,EACEL,EADFK,QAGF,OACEhC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CAAMC,SAAUF,GACdhC,EAAAC,EAAAC,cAAC+B,EAAA,EAAKE,MAAN,KACEnC,EAAAC,EAAAC,cAAC+B,EAAA,EAAKG,MAAN,cACApC,EAAAC,EAAAC,cAAC+B,EAAA,EAAKI,QAAN,CACAlC,KAAK,OACHqB,SAAUI,EACVL,MAAOO,EACPQ,YAAY,OACZC,UAAQ,IAEVvC,EAAAC,EAAAC,cAAC+B,EAAA,EAAKG,MAAN,gBACApC,EAAAC,EAAAC,cAAC+B,EAAA,EAAKI,QAAN,CACAlC,KAAK,OACHqB,SAAUK,EACVN,MAAOQ,EACPO,YAAY,WAEdtC,EAAAC,EAAAC,cAACsC,EAAA,EAAD,CAAQrC,KAAK,SACbE,MAAO,CAAEoC,OAAQ,KADjB,8BC1BFC,EAAU,eAqBDC,EAnBA,WACb,OAAOC,IAAMC,IAAIH,GAASI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAkBvCL,EAfA,SAACM,GACd,OAAOL,IAAMM,KAAKR,EAASO,GAC1BH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAadL,EAVA,SAACvB,EAAI6B,GAClB,OAAOL,IAAMO,IAAN,GAAAC,OAAaV,EAAb,KAAAU,OAAwBhC,GAAM6B,GACpCH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAQdL,EALA,SAACvB,GACd,OAAOwB,IAAMS,OAAN,GAAAD,OAAgBV,EAAhB,KAAAU,OAA2BhC,IACjC0B,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCNdM,EAfM,SAAA1D,GAAiB,IAAd2D,EAAc3D,EAAd2D,QACtB,GAAgB,OAAZA,EACF,OAAO,KAGT,IAAMC,EAAkBD,EAAQE,MAAQ,QAAU,eAElD,OACEzD,EAAAC,EAAAC,cAAA,OAAKwD,UAAWF,GACbD,EAAQA,UCkHAI,EAtHH,WAAM,IAAAC,EACcC,mBAAS,IADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACTpD,EADSsD,EAAA,GACAG,EADAH,EAAA,GAAAI,EAEcL,mBAAS,IAFvBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAETE,EAFSD,EAAA,GAEAE,EAFAF,EAAA,GAAAG,EAGkBT,mBAAS,IAH3BU,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAGTE,EAHSD,EAAA,GAGEE,EAHFF,EAAA,GAAAG,EAIwBb,mBAAS,IAJjCc,EAAAZ,OAAAC,EAAA,EAAAD,CAAAW,EAAA,GAITjE,EAJSkE,EAAA,GAIKC,EAJLD,EAAA,GAAAE,EAKsChB,mBAAS,MAL/CiB,EAAAf,OAAAC,EAAA,EAAAD,CAAAc,EAAA,GAKTE,EALSD,EAAA,GAKYE,EALZF,EAAA,GAOhBG,oBAAU,WACRC,IAEGpC,KAAK,SAAAtC,GACJyD,EAAWzD,MAEd,IAEH,IAYM2E,EAA4B,SAAC5B,EAAS6B,GAC1CJ,EACE,CAAEzB,QAASA,EAASE,MAAO2B,IAE7BC,WAAW,WACTL,EAAuB,OACtB,MA2DL,OACEhF,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,aACb1D,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACoF,EAAD,CAAc/B,QAASwB,IACvB/E,EAAAC,EAAAC,cAACqF,EAAD,CAAQjE,aAzEe,SAACkE,GAC1BZ,EAAgBY,EAAMC,OAAOlE,QAyEzBA,MAAOd,IAETT,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAACwF,EAAD,CACE9D,iBAtFmB,SAAC4D,GACxBnB,EAAWmB,EAAMC,OAAOlE,QAsFpBM,mBAnFqB,SAAC2D,GAC1Bf,EAAae,EAAMC,OAAOlE,QAmFtBO,UAAWsC,EACXrC,YAAayC,EACbxC,QArEU,SAACwD,GACfA,EAAMG,iBACN,IAAMC,EAAOpF,EAAQoF,KAAK,SAAAhF,GAAM,OAAIA,EAAOf,OAASuE,IAGpD,GAAIwB,GACF,GAAIC,OAAOC,QAAQF,EAAK/F,KAAO,kDAAmD,CAChF,IAAMkG,EAAY,CAAElG,KAAMuE,EAAStE,OAAQ0E,GAC3CU,EACUU,EAAKxE,GAAI2E,GAChBjD,KAAK,SAAAkD,GACJ/B,EAAWzD,EAAQS,IACjB,SAAAL,GAAM,OAAIA,EAAOQ,KAAO4E,EAAe5E,GAAKR,EAASoF,KACvD3B,EAAW,IACXI,EAAa,IACbU,EAA0B,kBAAkB,UAG7C,CACL,IAAMY,EAAY,CAAElG,KAAMuE,EAAStE,OAAQ0E,GAC3CU,EACUa,GACPjD,KAAK,SAAAkD,GACJ/B,EAAWzD,EAAQ4C,OAAO4C,IAC1B3B,EAAW,IACXI,EAAa,IACbU,EAAyB,UAAA/B,OAAW2C,EAAUlG,KAArB,WAAmC,KAE7DoG,MAAM,SAAAxC,GACLY,EAAW,IACXI,EAAa,IAEbU,EAA0B1B,EAAMV,SAASC,KAAKS,OAAO,SAuCzDzD,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACgG,EAAD,CACE1F,QAASA,EACTC,aAAcA,EACdV,wBAtCe,SAACqB,GAAD,OAAQ,WAC3B+E,QAAQC,IAAIhF,GACZ,IAAMR,EAASJ,EAAQoF,KAAK,SAAAhF,GAAM,OAAIA,EAAOQ,KAAOA,IAChDyE,OAAOC,QAAQ,qBAAuBlF,EAAOf,OAC/CqF,EACU9D,GACP0B,KAAK,SAAAC,GACJkB,EAAWzD,EAAQG,OAAO,SAAAC,GAAM,OAAIA,EAAOQ,KAAOA,KAElD+D,EAAyB,GAAA/B,OAAIxC,EAAOf,KAAX,aAA2B,KAErDoG,MAAM,SAAAxC,GACL0B,EAAyB,UAAA/B,OACbxC,EAAOf,KADM,kCAC+B,GACtDoE,EAAWzD,EAAQG,OAAO,SAAAC,GAAM,OAAIA,EAAOQ,KAAOA,aCxF9DiF,IAASC,OAAOtG,EAAAC,EAAAC,cAACqG,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.f7049d82.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ name, number, handleRemoveButtonClick }) => {\r\n  const buttonStyle = {\r\n    borderRadius: 3\r\n  }\r\n\r\n  return (\r\n    <tr>\r\n      <td>{name}</td>\r\n      <td>{number}</td>\r\n      <td>\r\n        <button \r\n        type=\"text\"\r\n         onClick={handleRemoveButtonClick}\r\n         style={buttonStyle}\r\n         >\r\n        remove\r\n        </button>\r\n        </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\nimport { Table } from 'react-bootstrap'\r\n\r\nconst Persons = ({ persons, personFilter, handleRemoveButtonClick }) => {\r\n\r\n  const usePersonFilter =\r\n    personFilter ?\r\n      persons.filter(person =>\r\n        person.name.toLowerCase().startsWith(personFilter.toLowerCase())) :\r\n      persons\r\n\r\n\r\n  const showPersons = () => usePersonFilter.map(\r\n    person => <Person\r\n      key={person.name}\r\n      name={person.name}\r\n      number={person.number}\r\n      handleRemoveButtonClick={handleRemoveButtonClick(person.id)}\r\n    />\r\n  )\r\n  return (\r\n    <Table striped>\r\n      <tbody>\r\n        {showPersons()}\r\n      </tbody>\r\n    </Table>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ handleChange, value }) => {\r\n\r\n    return (\r\n<div>\r\nrajaa näytettäviä:\r\n      <input onChange={handleChange}\r\n      value={value}\r\n      style={{ marginLeft: 10 }}\r\n      />\r\n</div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\n\r\nconst PersonForm = (props) => {\r\n  const {\r\n    handleNameChange,\r\n    handleNumberChange,\r\n    nameValue,\r\n    numberValue,\r\n    addName\r\n  } = props\r\n\r\n  return (\r\n    <div>\r\n    <Form onSubmit={addName}>\r\n      <Form.Group>\r\n        <Form.Label>Name:</Form.Label>\r\n        <Form.Control\r\n        type=\"text\"\r\n          onChange={handleNameChange}\r\n          value={nameValue}\r\n          placeholder=\"name\"\r\n          required\r\n        />\r\n        <Form.Label>Number:</Form.Label>\r\n        <Form.Control\r\n        type=\"text\"\r\n          onChange={handleNumberChange}\r\n          value={numberValue}\r\n          placeholder='number'         \r\n        />\r\n        <Button type=\"submit\"\r\n        style={{ margin: 10 }}\r\n        >\r\n        submit\r\n        </Button>\r\n      </Form.Group>\r\n    </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","\r\nimport axios from 'axios'\r\n\r\n// const baseUrl = 'http://localhost:3001/api/persons'\r\n// const baseUrl = 'https://mighty-gorge-50196.herokuapp.com/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst create = (newObj) => {\r\n  return axios.post(baseUrl, newObj)\r\n  .then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObj) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObj)\r\n  .then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n  .then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }\r\n\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  const chooseClassname = message.error ? 'error' : 'notification'\r\n\r\n  return (\r\n    <div className={chooseClassname}>\r\n      {message.message}\r\n    </div>\r\n  )\r\n  \r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport personservices from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [personFilter, setPersonFilter] = useState('')\r\n  const [notificationMessage, setNotificationMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personservices\r\n      .getAll()\r\n      .then(persons => {\r\n        setPersons(persons)\r\n      })\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setPersonFilter(event.target.value)\r\n  }\r\n\r\n  const handleNotificationMessage = (message, isError) => {\r\n    setNotificationMessage(\r\n      { message: message, error: isError }\r\n    )\r\n    setTimeout(() => {\r\n      setNotificationMessage(null)\r\n    }, 5000)\r\n  }\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const find = persons.find(person => person.name === newName)\r\n    // console.log(find)\r\n\r\n    if (find) {\r\n      if (window.confirm(find.name + \" is allready in a catalog, replace old number?\")) {\r\n        const personObj = { name: newName, number: newNumber }\r\n        personservices\r\n          .update(find.id, personObj)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(\r\n              person => person.id !== returnedPerson.id ? person : returnedPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            handleNotificationMessage('Number changed', false)\r\n          })          \r\n      }\r\n    } else {\r\n      const personObj = { name: newName, number: newNumber }\r\n      personservices\r\n        .create(personObj)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          handleNotificationMessage(`person ${personObj.name} added`, false)\r\n        })\r\n        .catch(error => {\r\n          setNewName('')\r\n          setNewNumber('')\r\n          // console.log(error.response.data)          \r\n          handleNotificationMessage(error.response.data.error, true)\r\n        })\r\n    }\r\n  }\r\n\r\n  const removePerson = (id) => () => {\r\n    console.log(id)\r\n    const person = persons.find(person => person.id === id)\r\n    if (window.confirm(\"confirm remove of \" + person.name)) {\r\n      personservices\r\n        .remove(id)\r\n        .then(response => {\r\n          setPersons(persons.filter(person => person.id !== id)\r\n          )\r\n          handleNotificationMessage(`${person.name} removed`, false)\r\n        })\r\n        .catch(error => {\r\n          handleNotificationMessage(\r\n            `person ${person.name} allready removed from server`, true)\r\n            setPersons(persons.filter(person => person.id !== id))\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Puhelinluettelo</h2>\r\n      <Notification message={notificationMessage} />\r\n      <Filter handleChange={handleFilterChange}\r\n        value={personFilter}\r\n      />\r\n      <h3>lisää uusi</h3>\r\n      <PersonForm\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n        nameValue={newName}\r\n        numberValue={newNumber}\r\n        addName={addName}\r\n      />\r\n      <h3>Numerot</h3>\r\n      <Persons\r\n        persons={persons}\r\n        personFilter={personFilter}\r\n        handleRemoveButtonClick={removePerson}\r\n      />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}