(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,n,t){e.exports=t(49)},29:function(e,n,t){},49:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(19),l=t.n(u),c=(t(29),t(7)),o=function(e){var n=e.name,t=e.number,a=e.handleRemoveButtonClick;return r.a.createElement("tr",null,r.a.createElement("td",null,n),r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement("button",{type:"text",onClick:a,style:{borderRadius:3}},"remove")))},i=t(50),m=function(e){var n=e.persons,t=e.personFilter,a=e.handleRemoveButtonClick,u=t?n.filter(function(e){return e.name.toLowerCase().startsWith(t.toLowerCase())}):n;return r.a.createElement(i.a,{striped:!0},r.a.createElement("tbody",null,u.map(function(e){return r.a.createElement(o,{key:e.name,name:e.name,number:e.number,handleRemoveButtonClick:a(e.id)})})))},d=function(e){var n=e.handleChange,t=e.value;return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4:",r.a.createElement("input",{onChange:n,value:t}))},f=t(51),s=t(52),h=function(e){var n=e.handleNameChange,t=e.handleNumberChange,a=e.nameValue,u=e.numberValue,l=e.addName;return r.a.createElement("div",null,r.a.createElement(f.a,{onSubmit:l},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Name:"),r.a.createElement(f.a.Control,{type:"text",onChange:n,value:a,placeholder:"name",required:!0}),r.a.createElement(f.a.Label,null,"Number:"),r.a.createElement(f.a.Control,{type:"text",onChange:t,value:u,placeholder:"number"}),r.a.createElement(s.a,{type:"submit",style:{margin:10}},"submit"))))},v=t(8),b=t.n(v),E="/api/persons",p=function(){return b.a.get(E).then(function(e){return e.data})},g=function(e){return b.a.post(E,e).then(function(e){return e.data})},C=function(e,n){return b.a.put("".concat(E,"/").concat(e),n).then(function(e){return e.data})},j=function(e){return b.a.delete("".concat(E,"/").concat(e)).then(function(e){return e.data})},w=function(e){var n=e.message;if(null===n)return null;var t=n.error?"error":"notification";return r.a.createElement("div",{className:t},n.message)},y=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1],l=Object(a.useState)(""),o=Object(c.a)(l,2),i=o[0],f=o[1],s=Object(a.useState)(""),v=Object(c.a)(s,2),b=v[0],E=v[1],y=Object(a.useState)(""),N=Object(c.a)(y,2),O=N[0],k=N[1],S=Object(a.useState)(null),B=Object(c.a)(S,2),R=B[0],x=B[1];Object(a.useEffect)(function(){p().then(function(e){u(e)})},[]);var L=function(e,n){x({message:e,error:n}),setTimeout(function(){x(null)},5e3)};return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(w,{message:R}),r.a.createElement(d,{handleChange:function(e){k(e.target.value)},value:O}),r.a.createElement("h3",null,"lis\xe4\xe4 uusi"),r.a.createElement(h,{handleNameChange:function(e){f(e.target.value)},handleNumberChange:function(e){E(e.target.value)},nameValue:i,numberValue:b,addName:function(e){e.preventDefault();var n=t.find(function(e){return e.name===i});if(n){if(window.confirm(n.name+" is allready in a catalog, replace old number?")){var a={name:i,number:b};C(n.id,a).then(function(e){u(t.map(function(n){return n.id!==e.id?n:e})),f(""),E(""),L("Number changed",!1)})}}else{var r={name:i,number:b};g(r).then(function(e){u(t.concat(e)),f(""),E(""),L("person ".concat(r.name," added"),!1)})}}}),r.a.createElement("h3",null,"Numerot"),r.a.createElement(m,{persons:t,personFilter:O,handleRemoveButtonClick:function(e){return function(){console.log(e);var n=t.find(function(n){return n.id===e});window.confirm("confirm remove of "+n.name)&&j(e).then(function(a){u(t.filter(function(n){return n.id!==e})),L("".concat(n.name," removed"),!1)}).catch(function(a){L("person ".concat(n.name," allready removed from server"),!0),u(t.filter(function(n){return n.id!==e}))})}}}))};l.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.83a12f05.chunk.js.map